# This sample sets up an Elasticsearch cluster with 3 nodes,
# exposed through a LoadBalancer
apiVersion: elasticsearch.k8s.elastic.co/v1alpha1
kind: Elasticsearch
metadata:
  labels:
    controller-tools.k8s.io: "1.0"
  name: elasticsearch-sample
spec:
  version: "6.4.2"
  licenseType: trial # can be "basic", "trial", "gold", "platinum"
  setVmMaxMapCount: true
  topology:
  - nodeTypes:
      master: true
      data: true
      ingest: true
    resources:
      limits:
        memory: 1Gi
        cpu: 500m
    nodeCount: 1
